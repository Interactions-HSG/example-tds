@prefix td: <https://www.w3.org/2019/wot/td#> .
@prefix hctl: <https://www.w3.org/2019/wot/hypermedia#> .
@prefix cherrybot: <https://interactions.ics.unisg.ch/cherrybot#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix wotsec: <https://www.w3.org/2019/wot/security#> .
@prefix hmas: <https://purl.org/hmas/> .
@prefix js: <https://www.w3.org/2019/wot/json-schema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix htv: <http://www.w3.org/2011/http#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<urn:cherrybot> a td:Thing, hmas:Artifact;
                td:title "cherryBot";
                td:hasSecurityConfiguration [ a wotsec:APIKeySecurityScheme;
                                              wotsec:in "header";
                                              wotsec:name "Authentication"
                  ];
                td:hasBase <https://api.interactions.ics.unisg.ch/cherrybot/>;
                td:hasPropertyAffordance [ a td:PropertyAffordance, cherrybot:Operator, js:ObjectSchema,
                                             cherrybot:OperatorWithTokenSchema;
                                           td:name "currentUser";
                                           rdfs:comment "Shows who is currently logged in and allowed to use the robot (name, email, and access token).";
                                           td:hasForm [
                                                 hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/operator>;
                                                 hctl:forContentType "application/json";
                                                 hctl:hasOperationType td:readProperty
                                             ];
                                           td:isObservable false;
                                           js:properties [ a js:StringSchema, foaf:Name;
                                                           js:propertyName "name"
                                             ], [ a js:StringSchema, foaf:Mbox;
                                                  js:propertyName "email"
                                             ], [ a js:StringSchema, cherrybot:OperatorToken;
                                                  js:propertyName "token"
                                             ];
                                           js:required "name", "email", "token"
                  ], [ a td:PropertyAffordance, cherrybot:Tcp, js:ObjectSchema, cherrybot:TcpTargetSchema;
                       td:name "currentPosition";
                       rdfs:comment "Shows the robot’s current position and orientation in space.";
                       td:hasForm [
                             hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/tcp>;
                             hctl:forContentType "application/json";
                             hctl:hasOperationType td:readProperty
                         ];
                       td:isObservable false;
                       js:properties [ a js:ObjectSchema, cherrybot:CoordinatesSchema;
                                       js:propertyName "coordinate";
                                       js:properties [ a js:NumberSchema, cherrybot:XCoordinate;
                                                       js:propertyName "x";
                                                       js:minimum -720;
                                                       js:maximum 720
                                         ], [ a js:NumberSchema, cherrybot:YCoordinate;
                                              js:propertyName "y";
                                              js:minimum -720;
                                              js:maximum 720
                                         ], [ a js:NumberSchema, cherrybot:ZCoordinate;
                                              js:propertyName "z";
                                              js:minimum -178.3;
                                              js:maximum 1010.0
                                         ];
                                       js:required "x", "y", "z"
                         ], [ a js:ObjectSchema, cherrybot:RotationSchema;
                              js:propertyName "rotation";
                              js:properties [ a js:NumberSchema, cherrybot:Roll;
                                              js:propertyName "roll";
                                              js:minimum -180;
                                              js:maximum 180
                                ], [ a js:NumberSchema, cherrybot:Pitch;
                                     js:propertyName "pitch";
                                     js:minimum -180;
                                     js:maximum 180
                                ], [ a js:NumberSchema, cherrybot:Yaw;
                                     js:propertyName "yaw";
                                     js:minimum -180;
                                     js:maximum 180
                                ];
                              js:required "roll", "pitch", "yaw"
                         ];
                       js:required "coordinate", "rotation"
                  ], [ a td:PropertyAffordance, cherrybot:TcpTarget, js:ObjectSchema, cherrybot:TcpTargetSchema;
                       td:name "goalPosition";
                       rdfs:comment "Shows the position and orientation the robot is moving to. If this is the same as the current position, the robot is not moving.";
                       td:hasForm [
                             hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/tcp/target>;
                             hctl:forContentType "application/json";
                             hctl:hasOperationType td:readProperty
                         ];
                       td:isObservable false;
                       js:properties [ a js:ObjectSchema, cherrybot:CoordinatesSchema;
                                       js:propertyName "coordinate";
                                       js:properties [ a js:NumberSchema, cherrybot:XCoordinate;
                                                       js:propertyName "x";
                                                       js:minimum -720;
                                                       js:maximum 720
                                         ], [ a js:NumberSchema, cherrybot:YCoordinate;
                                              js:propertyName "y";
                                              js:minimum -720;
                                              js:maximum 720
                                         ], [ a js:NumberSchema, cherrybot:ZCoordinate;
                                              js:propertyName "z";
                                              js:minimum -178.3;
                                              js:maximum 1010.0
                                         ];
                                       js:required "x", "y", "z"
                         ], [ a js:ObjectSchema, cherrybot:RotationSchema;
                              js:propertyName "rotation";
                              js:properties [ a js:NumberSchema, cherrybot:Roll;
                                              js:propertyName "roll";
                                              js:minimum -180.0;
                                              js:maximum 180.0
                                ], [ a js:NumberSchema, cherrybot:Pitch;
                                     js:propertyName "pitch";
                                     js:minimum -180.0;
                                     js:maximum 180.0
                                ], [ a js:NumberSchema, cherrybot:Yaw;
                                     js:propertyName "yaw";
                                     js:minimum -180.0;
                                     js:maximum 180.0
                                ];
                              js:required "roll", "pitch", "yaw"
                         ];
                       js:required "coordinate", "rotation"
                  ], [ a td:PropertyAffordance, cherrybot:Gripper, js:IntegerSchema, cherrybot:GripperValue;
                       td:name "handState";
                       rdfs:comment "Shows how open the robot’s hand is.";
                       td:hasForm [
                             hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/gripper>;
                             hctl:forContentType "application/json";
                             hctl:hasOperationType td:readProperty
                         ];
                       td:isObservable false;
                       js:minimum "0"^^xsd:int;
                       js:maximum "800"^^xsd:int
                  ];
                td:hasActionAffordance [ a td:ActionAffordance, cherrybot:RegisterOperator;
                                         td:name "logIn";
                                         rdfs:comment "Log in so you can use the robot (enter your name and email). After a successful login, the response will include a token in the Location header. This token is required to perform the robot’s movement and hand actions.";
                                         td:hasForm [
                                               htv:methodName "POST";
                                               hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/operator>;
                                               hctl:forContentType "application/json";
                                               hctl:hasOperationType td:invokeAction
                                           ];
                                         td:hasInputSchema [ a js:ObjectSchema, cherrybot:OperatorSchema;
                                                             js:properties [ a js:StringSchema, foaf:Name;
                                                                             js:propertyName "name"
                                                               ], [ a js:StringSchema, foaf:Mbox;
                                                                    js:propertyName "email"
                                                               ];
                                                             js:required "name", "email"
                                           ]
                  ], [ a td:ActionAffordance, cherrybot:Initialize;
                       td:name "reset";
                       rdfs:comment "Moves the robot back to its starting position (reset).";
                       td:hasForm [
                             htv:methodName "PUT";
                             hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/initialize>;
                             hctl:forContentType "application/json";
                             hctl:hasOperationType td:invokeAction
                         ]
                  ], [ a td:ActionAffordance, cherrybot:SetTarget;
                       td:name "setGoalPosition";
                       rdfs:comment "Move the robot to a new position (X, Y, Z) and orientation (roll, pitch, yaw).";
                       td:hasForm [
                             htv:methodName "PUT";
                             hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/tcp/target>;
                             hctl:forContentType "application/json";
                             hctl:hasOperationType td:invokeAction
                         ];
                       td:hasInputSchema [ a js:ObjectSchema, cherrybot:TcpMovementSchema;
                                           js:properties [ a js:IntegerSchema, cherrybot:Speed;
                                                           js:propertyName "speed";
                                                           js:const "50"^^xsd:int;
                                             ], [ a js:ObjectSchema, cherrybot:TcpTargetSchema;
                                                  js:propertyName "target";
                                                  js:properties [ a js:ObjectSchema, cherrybot:CoordinatesSchema;
                                                                  js:propertyName "coordinate";
                                                                  js:properties [ a js:NumberSchema, cherrybot:XCoordinate;
                                                                                  js:propertyName "x";
                                                                                  js:minimum -720.0;
                                                                                  js:maximum 720.0
                                                                    ], [ a js:NumberSchema, cherrybot:YCoordinate;
                                                                         js:propertyName "y";
                                                                         js:minimum -720.0;
                                                                         js:maximum 720.0
                                                                    ], [ a js:NumberSchema, cherrybot:ZCoordinate;
                                                                         js:propertyName "z";
                                                                         js:minimum -178.3;
                                                                         js:maximum 1010.0
                                                                    ];
                                                                  js:required "x", "y", "z"
                                                    ], [ a js:ObjectSchema, cherrybot:RotationSchema;
                                                         js:propertyName "rotation";
                                                         js:properties [ a js:NumberSchema, cherrybot:Roll;
                                                                         js:propertyName "roll";
                                                                         js:default 180.0;
                                                                         js:minimum -180.0;
                                                                         js:maximum 180.0
                                                           ], [ a js:NumberSchema, cherrybot:Pitch;
                                                                js:propertyName "pitch";
                                                                js:default 0.0;
                                                                js:minimum -180.0;
                                                                js:maximum 180.0
                                                           ], [ a js:NumberSchema, cherrybot:Yaw;
                                                                js:propertyName "yaw";
                                                                js:default 0.0;
                                                                js:minimum -180.0;
                                                                js:maximum 180.0
                                                           ];
                                                         js:required "roll", "pitch", "yaw"
                                                    ];
                                                  js:required "coordinate", "rotation"
                                             ];
                                           js:required "target", "speed"
                         ]
                  ], [ a td:ActionAffordance, cherrybot:SetGripper;
                       td:name "setHandState";
                       rdfs:comment "Change how open the robot's hand is.";
                       td:hasForm [
                             htv:methodName "PUT";
                             hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/gripper>;
                             hctl:forContentType "application/json";
                             hctl:hasOperationType td:invokeAction
                         ];
                       td:hasInputSchema [ a js:IntegerSchema, cherrybot:GripperValue;
                                           js:minimum "0"^^xsd:int;
                                           js:maximum "800"^^xsd:int
                         ]
                  ], [ a td:ActionAffordance, cherrybot:RemoveOperator;
                       td:name "logOut";
                       td:hasUriTemplateSchema [ a js:StringSchema, cherrybot:OperatorToken;
                                                 td:name "token"
                         ];
                       rdfs:comment "Log out so someone else can use the robot.";
                       td:hasForm [
                             htv:methodName "DELETE";
                             hctl:hasTarget <https://api.interactions.ics.unisg.ch/cherrybot/operator/%7Btoken%7D>;
                             hctl:forContentType "application/json";
                             hctl:hasOperationType td:invokeAction
                         ]
                  ] .
